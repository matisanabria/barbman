<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<ScrollPane fitToWidth="true" pannable="true"
            style="-fx-background-color: transparent;"
            xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="app.barbman.core.controller.ExpensesViewController">

    <content>
        <VBox alignment="CENTER" fillWidth="true" prefWidth="600.0" spacing="16" style="-fx-padding: 24;">
            <children>

                <!-- ====================================== -->
                <!-- Registro de Egreso -->
                <!-- ====================================== -->
                <Label text="Registrar egreso" styleClass="services-title"/>

                <VBox spacing="12" styleClass="services-section">
                    <children>

                        <!-- LÃ­nea 1: tipo, monto -->
                        <HBox alignment="CENTER" spacing="18" styleClass="services-row">
                            <children>
                                <ComboBox fx:id="expenseTypeBox" prefWidth="180.0" promptText="Tipo de egreso" styleClass="services-combobox"/>
                                <TextField fx:id="amountField" prefWidth="120.0" promptText="Monto (Gs)" styleClass="services-textfield"/>
                            </children>
                        </HBox>

                        <!-- LÃ­nea 2: descripciÃ³n -->
                        <HBox alignment="CENTER" spacing="18" styleClass="services-row">
                            <children>
                                <TextField fx:id="descriptionField" promptText="DescripciÃ³n del egreso" prefWidth="300.0" styleClass="services-textfield"/>
                            </children>
                        </HBox>

                        <!-- LÃ­nea 3: mÃ©todos de pago -->
                        <VBox spacing="6" alignment="CENTER">
                            <children>
                                <Label text="MÃ©todo de pago:" style="-fx-font-weight: bold;"/>
                                <HBox fx:id="paymentButtonsBox" spacing="10" alignment="CENTER">
                                    <!-- ToggleButtons se generan dinÃ¡micamente -->
                                </HBox>
                            </children>
                        </VBox>

                        <!-- LÃ­nea 4: botÃ³n de guardar -->
                        <HBox alignment="CENTER_RIGHT" spacing="10" styleClass="services-row">
                            <children>
                                <Button fx:id="saveButton" text="ðŸ’¾ Guardar egreso" prefWidth="150.0" styleClass="services-button"/>
                            </children>
                        </HBox>
                    </children>
                </VBox>

                <Separator/>

                <!-- ====================================== -->
                <!-- Historial de Egresos -->
                <!-- ====================================== -->
                <Label text="Historial de egresos" styleClass="services-title"/>

                <TableView fx:id="expensesTable"
                           prefHeight="320.0"
                           prefWidth="580.0"
                           styleClass="main-table services-table">
                    <columns>
                        <TableColumn fx:id="colDate" prefWidth="110" text="Fecha"/>
                        <TableColumn fx:id="colType" prefWidth="100" text="Tipo"/>
                        <TableColumn fx:id="colAmount" prefWidth="120" text="Monto"/>
                        <TableColumn fx:id="colPaymentMethod" prefWidth="100" text="Pago"/>
                        <TableColumn fx:id="colDescription" prefWidth="200" text="DescripciÃ³n"/>
                    </columns>
                </TableView>

                <!-- Pie informativo -->
                <HBox alignment="CENTER_RIGHT" spacing="10" styleClass="services-row" style="-fx-padding: 8 0 0 0;">
                    <children>
                        <Label text="Doble clic para eliminar un egreso" style="-fx-font-size: 11px; -fx-text-fill: #999;"/>
                        <FontIcon iconLiteral="fas-info-circle" iconSize="12" iconColor="#888"/>
                    </children>
                </HBox>

            </children>
        </VBox>
    </content>
</ScrollPane>
